(function(e){function t(t){for(var n,i,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,i=1;i<o.length;i++){var s=o[i];0!==r[s]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},r={app:0},a=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"50dc2235","chunk-2d0c4813":"4778bb16"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=n);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,o[1](l)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("v-app-bar",{attrs:{app:"",color:"blue-grey darken-4",dark:""}},[o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.linkToGithub()}}},[o("v-icon",[e._v("mdi-github")])],1)],1),o("router-view"),o("v-footer",{attrs:{color:"blue-grey darken-4",app:""}},[o("v-spacer"),o("span",{staticClass:"white--text"},[e._v("Â© 2020")])],1)],1)},a=[],i={methods:{linkToGithub:function(){window.open("https://github.com/tkmn0/peers-web-example-vue")}}},c=i,s=o("2877"),l=o("6544"),u=o.n(l),d=o("40dc"),p=o("8336"),f=o("553a"),v=o("132d"),m=o("2fa4"),b=Object(s["a"])(c,r,a,!1,null,null,null),h=b.exports;u()(b,{VAppBar:d["a"],VBtn:p["a"],VFooter:f["a"],VIcon:v["a"],VSpacer:m["a"]});var g=o("f309");n["a"].use(g["a"]);var k=new g["a"]({}),y=(o("d3b7"),o("8c4f")),w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("VideoRoom")],1)},_=[],V=o("9b83"),x={name:"Home",components:{VideoRoom:V["a"]}},j=x,L=Object(s["a"])(j,w,_,!1,null,null,null),M=L.exports;n["a"].use(y["a"]);var O=[{path:"/:roomId",name:"Home",component:M},{path:"/",name:"HomeMaster",component:M},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/room",name:"Room",component:function(){return o.e("chunk-2d0c4813").then(o.bind(null,"3ab1"))}}],C=new y["a"]({mode:"history",base:"/",routes:O}),S=C;n["a"].config.productionTip=!1,new n["a"]({vuetify:k,router:S,render:function(e){return e(h)}}).$mount("#app")},"9b83":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"inspire"}},[o("v-main",[o("v-container",{staticClass:"grey lighten-5",staticStyle:{height:"100%"},attrs:{fluid:""}},[o("v-spacer"),o("v-toolbar",{attrs:{dense:"",flat:""}},[null==e.peers.LocalStream()?o("v-btn",{on:{click:e.setupLocalStream}},[e._v(" CAMERA ")]):e.peers.RoomJoined()?e._e():o("v-btn",{on:{click:e.call}},[e._v(" JOIN ")]),o("v-spacer"),e.peers.roomId?o("v-btn",{on:{click:e.copyLink}},[e._v(" invite link ")]):e._e(),o("v-snackbar",{attrs:{timeout:2e3,top:!0,right:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" "),o("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1)],1),o("v-row",{staticClass:"blue lighten-4",staticStyle:{height:"100%"},attrs:{justify:"start","align-content":"center",dense:""}},e._l(e.peers.MediaModels(),(function(t,n){return o("v-col",{key:n,attrs:{xs:"12",sm:"6",md:"4",lg:"3"}},[o("Video",{attrs:{stream:t.stream,"is-local":t.isLocal,"is-video-enable":!t.isVideoMuted,"is-audio-enable":!t.isAudioMuted},on:{"video-button-clicked":e.toggleLocalVideoMute,"audio-button-clicked":e.toggleLocalAudioMute}})],1)})),1)],1)],1)],1)},r=[],a=(o("96cf"),o("1da1")),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.stream?o("v-card",{staticClass:"ma-0 pa-0  white d-flex justify-center",attrs:{outlined:"",tile:"",height:"200"}},[o("video",{staticClass:"pa-2",attrs:{autoplay:"",playsinline:"",width:"100%"},domProps:{srcObject:e.stream,muted:e.isLocal}}),o("div",{staticClass:"controls"},[e.isLocal?o("div",[o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("video-button-clicked")}}},[e.isVideoEnable?o("v-icon",{attrs:{color:"black"}},[e._v(" mdi-video ")]):o("v-icon",{attrs:{color:"red"}},[e._v(" mdi-video-off ")])],1),o("br"),o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("audio-button-clicked")}}},[e.isAudioEnable?o("v-icon",{attrs:{color:"black"}},[e._v(" mdi-microphone ")]):o("v-icon",{attrs:{color:"red"}},[e._v(" mdi-microphone-off ")])],1)],1):o("div",[e.isVideoEnable?o("v-icon",{attrs:{color:"black"}},[e._v(" mdi-video ")]):o("v-icon",{attrs:{color:"red"}},[e._v(" mdi-video-off ")]),o("br"),e.isAudioEnable?o("v-icon",{attrs:{color:"black"}},[e._v(" mdi-microphone ")]):o("v-icon",{attrs:{color:"red"}},[e._v(" mdi-microphone-off ")])],1)])]):e._e()},c=[],s={name:"Video",props:{stream:MediaStream,isLocal:Boolean,isVideoEnable:Boolean,isAudioEnable:Boolean}},l=s,u=(o("9e4e"),o("2877")),d=o("6544"),p=o.n(d),f=o("8336"),v=o("b0af"),m=o("132d"),b=Object(u["a"])(l,i,c,!1,null,"20d5a7f1",null),h=b.exports;p()(b,{VBtn:f["a"],VCard:v["a"],VIcon:m["a"]});var g=o("523a"),k=o.n(g),y={name:"VideoRoom",components:{Video:h},data:function(){return{snackbar:!1,text:"link copied!",peers:new k.a}},mounted:function(){var e=window.location.hostname;this.peers.setupConnection(e),this.peers.setLogLevel("info")},destroyed:function(){},methods:{copyLink:function(){var e=window.location.href;this.$route.params.roomId||(e+=this.peers.roomId),navigator.clipboard.writeText(e),this.snackbar=!0},call:function(){var e=this.$route.params.roomId;this.peers.joinRoom(e)},toggleLocalVideoMute:function(){this.peers.toggleLocalVideoMute()},toggleLocalAudioMute:function(){this.peers.toggleLocalAudioMute()},setupLocalStream:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={width:{min:320,ideal:320,max:640},height:{ideal:360},video:!0,audio:!0,facingMode:{exact:"user"}},e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:o=e.sent,this.peers.addLocalStream(o);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},w=y,_=o("7496"),V=o("62ad"),x=o("a523"),j=o("f6c4"),L=o("0fd9"),M=o("2db4"),O=o("2fa4"),C=o("71d9"),S=Object(u["a"])(w,n,r,!1,null,null,null);t["a"]=S.exports;p()(S,{VApp:_["a"],VBtn:f["a"],VCol:V["a"],VContainer:x["a"],VMain:j["a"],VRow:L["a"],VSnackbar:M["a"],VSpacer:O["a"],VToolbar:C["a"]})},"9e4e":function(e,t,o){"use strict";var n=o("b5c6"),r=o.n(n);r.a},b5c6:function(e,t,o){}});
//# sourceMappingURL=app.9a57b73e.js.map